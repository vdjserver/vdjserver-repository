# VDJServer Docker Orchestration

version: '2'

services:
    vdjr-mongo:
        build: ./../../repository-mongodb
        container_name: vdjr-mongo
        expose:
            - "27017"
        image: ireceptor/repository-mongo
        volumes:
            - /icat/mongodb:/data/db
        networks:
            - default
        command: mongod --auth

    vdjr-ireceptor-api:
        build: ./../../service-js-mongodb
        container_name: vdjr-ireceptor-api
        env_file: ./../../service-js-mongodb/.env
        ports:
            - "8080:8080"
        image: ireceptor/service-js-mongodb
        networks:
            - default

    vdjr-airr-api:
        build: ./../../api-js-mongodb
        container_name: vdjr-airr-api
        env_file: ./../../api-js-mongodb/.env
        ports:
            - "8090:8090"
        image: vdjserver/api-js-mongodb
        networks:
            - default

networks:
    default:
        driver: bridge
